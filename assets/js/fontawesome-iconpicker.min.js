(function(D,C){D.ui=D.ui||{};var B,A=Math.max,z=Math.abs,y=Math.round,x=/left|center|right/,w=/top|center|bottom/,v=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,t=/%$/,s=D.fn.pos;function r(e,d,f){return[parseFloat(e[0])*(t.test(e[0])?d/100:1),parseFloat(e[1])*(t.test(e[1])?f/100:1)]}function q(a,d){return parseInt(D.css(a,d),10)||0}function p(a){var d=a[0];if(d.nodeType===9){return{width:a.width(),height:a.height(),offset:{top:0,left:0}}}if(D.isWindow(d)){return{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}}if(d.preventDefault){return{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}}return{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}D.pos={scrollbarWidth:function(){if(B!==C){return B}var h,c,b=D("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=b.children()[0];D("body").append(b);h=a.offsetWidth;b.css("overflow","scroll");c=a.offsetWidth;if(h===c){c=b[0].clientWidth}b.remove();return B=h-c},getScrollInfo:function(a){var j=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),i=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),h=j==="scroll"||j==="auto"&&a.width<a.element[0].scrollWidth,g=i==="scroll"||i==="auto"&&a.height<a.element[0].scrollHeight;return{width:g?D.pos.scrollbarWidth():0,height:h?D.pos.scrollbarWidth():0}},getWithinInfo:function(a){var h=D(a||window),g=D.isWindow(h[0]),f=!!h[0]&&h[0].nodeType===9;return{element:h,isWindow:g,isDocument:f,offset:h.offset()||{left:0,top:0},scrollLeft:h.scrollLeft(),scrollTop:h.scrollTop(),width:g?h.width():h.outerWidth(),height:g?h.height():h.outerHeight()}}};D.fn.pos=function(h){if(!h||!h.of){return s.apply(this,arguments)}h=D.extend({},h);var g,f,e,d,a,o,n=D(h.of),m=D.pos.getWithinInfo(h.within),l=D.pos.getScrollInfo(m),j=(h.collision||"flip").split(" "),i={};o=p(n);if(n[0].preventDefault){h.at="left top"}f=o.width;e=o.height;d=o.offset;a=D.extend({},d);D.each(["my","at"],function(){var b=(h[this]||"").split(" "),E,k;if(b.length===1){b=x.test(b[0])?b.concat(["center"]):w.test(b[0])?["center"].concat(b):["center","center"]}b[0]=x.test(b[0])?b[0]:"center";b[1]=w.test(b[1])?b[1]:"center";E=v.exec(b[0]);k=v.exec(b[1]);i[this]=[E?E[0]:0,k?k[0]:0];h[this]=[u.exec(b[0])[0],u.exec(b[1])[0]]});if(j.length===1){j[1]=j[0]}if(h.at[0]==="right"){a.left+=f}else{if(h.at[0]==="center"){a.left+=f/2}}if(h.at[1]==="bottom"){a.top+=e}else{if(h.at[1]==="center"){a.top+=e/2}}g=r(i.at,f,e);a.left+=g[0];a.top+=g[1];return this.each(function(){var I,H,G=D(this),F=G.outerWidth(),E=G.outerHeight(),k=q(this,"marginLeft"),L=q(this,"marginTop"),K=F+k+q(this,"marginRight")+l.width,J=E+L+q(this,"marginBottom")+l.height,c=D.extend({},a),b=r(i.my,G.outerWidth(),G.outerHeight());if(h.my[0]==="right"){c.left-=F}else{if(h.my[0]==="center"){c.left-=F/2}}if(h.my[1]==="bottom"){c.top-=E}else{if(h.my[1]==="center"){c.top-=E/2}}c.left+=b[0];c.top+=b[1];if(!D.support.offsetFractions){c.left=y(c.left);c.top=y(c.top)}I={marginLeft:k,marginTop:L};D.each(["left","top"],function(N,M){if(D.ui.pos[j[N]]){D.ui.pos[j[N]][M](c,{targetWidth:f,targetHeight:e,elemWidth:F,elemHeight:E,collisionPosition:I,collisionWidth:K,collisionHeight:J,offset:[g[0]+b[0],g[1]+b[1]],my:h.my,at:h.at,within:m,elem:G})}});if(h.using){H=function(N){var R=d.left-c.left,Q=R+f-F,P=d.top-c.top,O=P+e-E,M={target:{element:n,left:d.left,top:d.top,width:f,height:e},element:{element:G,left:c.left,top:c.top,width:F,height:E},horizontal:Q<0?"left":R>0?"right":"center",vertical:O<0?"top":P>0?"bottom":"middle"};if(f<F&&z(R+Q)<f){M.horizontal="center"}if(e<E&&z(P+O)<e){M.vertical="middle"}if(A(z(R),z(Q))>A(z(P),z(O))){M.important="horizontal"}else{M.important="vertical"}h.using.call(this,N,M)}}G.offset(D.extend(c,{using:H}))})};D.ui.pos={_trigger:function(f,e,h,g){if(e.elem){e.elem.trigger({type:h,position:f,positionData:e,triggered:g})}},fit:{left:function(G,F){D.ui.pos._trigger(G,F,"posCollide","fitLeft");var E=F.within,o=E.isWindow?E.scrollLeft:E.offset.left,n=E.width,m=G.left-F.collisionPosition.marginLeft,l=o-m,d=m+F.collisionWidth-n-o,a;if(F.collisionWidth>n){if(l>0&&d<=0){a=G.left+l+F.collisionWidth-n-o;G.left+=l-a}else{if(d>0&&l<=0){G.left=o}else{if(l>d){G.left=o+n-F.collisionWidth}else{G.left=o}}}}else{if(l>0){G.left+=l}else{if(d>0){G.left-=d}else{G.left=A(G.left-m,G.left)}}}D.ui.pos._trigger(G,F,"posCollided","fitLeft")},top:function(G,F){D.ui.pos._trigger(G,F,"posCollide","fitTop");var E=F.within,o=E.isWindow?E.scrollTop:E.offset.top,n=F.within.height,m=G.top-F.collisionPosition.marginTop,l=o-m,d=m+F.collisionHeight-n-o,a;if(F.collisionHeight>n){if(l>0&&d<=0){a=G.top+l+F.collisionHeight-n-o;G.top+=l-a}else{if(d>0&&l<=0){G.top=o}else{if(l>d){G.top=o+n-F.collisionHeight}else{G.top=o}}}}else{if(l>0){G.top+=l}else{if(d>0){G.top-=d}else{G.top=A(G.top-m,G.top)}}}D.ui.pos._trigger(G,F,"posCollided","fitTop")}},flip:{left:function(P,O){D.ui.pos._trigger(P,O,"posCollide","flipLeft");var N=O.within,M=N.offset.left+N.scrollLeft,L=N.width,K=N.isWindow?N.scrollLeft:N.offset.left,J=P.left-O.collisionPosition.marginLeft,I=J-K,H=J+O.collisionWidth-L-K,G=O.my[0]==="left"?-O.elemWidth:O.my[0]==="right"?O.elemWidth:0,F=O.at[0]==="left"?O.targetWidth:O.at[0]==="right"?-O.targetWidth:0,E=-2*O.offset[0],e,a;if(I<0){e=P.left+G+F+E+O.collisionWidth-L-M;if(e<0||e<z(I)){P.left+=G+F+E}}else{if(H>0){a=P.left-O.collisionPosition.marginLeft+G+F+E-K;if(a>0||z(a)<H){P.left+=G+F+E}}}D.ui.pos._trigger(P,O,"posCollided","flipLeft")},top:function(Q,P){D.ui.pos._trigger(Q,P,"posCollide","flipTop");var O=P.within,N=O.offset.top+O.scrollTop,M=O.height,L=O.isWindow?O.scrollTop:O.offset.top,K=Q.top-P.collisionPosition.marginTop,J=K-L,I=K+P.collisionHeight-M-L,H=P.my[1]==="top",G=H?-P.elemHeight:P.my[1]==="bottom"?P.elemHeight:0,F=P.at[1]==="top"?P.targetHeight:P.at[1]==="bottom"?-P.targetHeight:0,E=-2*P.offset[1],e,a;if(J<0){a=Q.top+G+F+E+P.collisionHeight-M-N;if(Q.top+G+F+E>J&&(a<0||a<z(J))){Q.top+=G+F+E}}else{if(I>0){e=Q.top-P.collisionPosition.marginTop+G+F+E-L;if(Q.top+G+F+E>I&&(e>0||z(e)<I)){Q.top+=G+F+E}}}D.ui.pos._trigger(Q,P,"posCollided","flipTop")}},flipfit:{left:function(){D.ui.pos.flip.left.apply(this,arguments);D.ui.pos.fit.left.apply(this,arguments)},top:function(){D.ui.pos.flip.top.apply(this,arguments);D.ui.pos.fit.top.apply(this,arguments)}}};(function(){var a,n,m,l,k,j=document.getElementsByTagName("body")[0],i=document.createElement("div");a=document.createElement(j?"div":"body");m={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(j){D.extend(m,{position:"absolute",left:"-1000px",top:"-1000px"})}for(k in m){a.style[k]=m[k]}a.appendChild(i);n=j||document.documentElement;n.insertBefore(a,n.firstChild);i.style.cssText="position: absolute; left: 10.7432222px;";l=D(i).offset().left;D.support.offsetFractions=l>10&&l<11;a.innerHTML="";n.removeChild(a)})()})(jQuery);(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(window.jQuery&&!window.jQuery.fn.iconpicker){b(window.jQuery)}}})(function(e){var d={isEmpty:function(b){return b===false||b===""||b===null||b===undefined},isEmptyObject:function(b){return this.isEmpty(b)===true||b.length===0},isElement:function(a){return e(a).length>0},isString:function(b){return typeof b==="string"||b instanceof String},isArray:function(a){return e.isArray(a)},inArray:function(a,g){return e.inArray(a,g)!==-1},throwError:function(b){throw"Font Awesome Icon Picker Exception: "+b}};var f=function(b,a){this._id=f._idCounter++;this.element=e(b).addClass("iconpicker-element");this._trigger("iconpickerCreate");this.options=e.extend({},f.defaultOptions,this.element.data(),a);this.options.templates=e.extend({},f.defaultOptions.templates,this.options.templates);this.options.originalPlacement=this.options.placement;this.container=d.isElement(this.options.container)?e(this.options.container):false;if(this.container===false){if(this.element.is(".dropdown-toggle")){this.container=e("~ .dropdown-menu:first",this.element)}else{this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element}}this.container.addClass("iconpicker-container");if(this.isDropdownMenu()){this.options.templates.search=false;this.options.templates.buttons=false;this.options.placement="inline"}this.input=this.element.is("input,textarea")?this.element.addClass("iconpicker-input"):false;if(this.input===false){this.input=this.container.find(this.options.input);if(!this.input.is("input,textarea")){this.input=false}}this.component=this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component);if(this.component.length===0){this.component=false}else{this.component.find("i").addClass("iconpicker-component")}this._createPopover();this._createIconpicker();if(this.getAcceptButton().length===0){this.options.mustAccept=false}if(this.isInputGroup()){this.container.parent().append(this.popover)}else{this.container.append(this.popover)}this._bindElementEvents();this._bindWindowEvents();this.update(this.options.selected);if(this.isInline()){this.show()}this._trigger("iconpickerCreated")};f._idCounter=0;f.defaultOptions={title:false,selected:false,defaultValue:false,placement:"bottom",collision:"none",animation:true,hideOnSelect:false,showFooter:false,searchInFooter:false,mustAccept:false,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(b){return b},input:"input,.iconpicker-input",inputSearch:false,container:false,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="#" class="iconpicker-item"><i></i></a>'}};f.batch=function(a,h){var g=Array.prototype.slice.call(arguments,2);return e(a).each(function(){var c=e(this).data("iconpicker");if(!!c){c[h].apply(c,g)}})};f.prototype={constructor:f,options:{},_id:0,_trigger:function(a,g){g=g||{};this.element.trigger(e.extend({type:a,iconpickerInstance:this},g))},_createPopover:function(){this.popover=e(this.options.templates.popover);var b=this.popover.find(".popover-title");if(!!this.options.title){b.append(e('<div class="popover-title-text">'+this.options.title+"</div>"))}if(this.hasSeparatedSearchInput()&&!this.options.searchInFooter){b.append(this.options.templates.search)}else{if(!this.options.title){b.remove()}}if(this.options.showFooter&&!d.isEmpty(this.options.templates.footer)){var a=e(this.options.templates.footer);if(this.hasSeparatedSearchInput()&&this.options.searchInFooter){a.append(e(this.options.templates.search))}if(!d.isEmpty(this.options.templates.buttons)){a.append(e(this.options.templates.buttons))}this.popover.append(a)}if(this.options.animation===true){this.popover.addClass("fade")}return this.popover},_createIconpicker:function(){var a=this;this.iconpicker=e(this.options.templates.iconpicker);var i=function(j){var b=e(this);if(b.is("i")){b=b.parent()}a._trigger("iconpickerSelect",{iconpickerItem:b,iconpickerValue:a.iconpickerValue});if(a.options.mustAccept===false){a.update(b.data("iconpickerValue"));a._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:a.iconpickerValue})}else{a.update(b.data("iconpickerValue"),true)}if(a.options.hideOnSelect&&a.options.mustAccept===false){a.hide()}j.preventDefault();return false};for(var h in this.options.icons){var g=e(this.options.templates.iconpickerItem);g.find("i").addClass(this.options.fullClassFormatter(this.options.icons[h]));g.data("iconpickerValue",this.options.icons[h]).on("click.iconpicker",i);this.iconpicker.find(".iconpicker-items").append(g.attr("title","."+this.options.icons[h]))}this.popover.find(".popover-content").append(this.iconpicker);return this.iconpicker},_isEventInsideIconpicker:function(a){var g=e(a.target);if((!g.hasClass("iconpicker-element")||g.hasClass("iconpicker-element")&&!g.is(this.element))&&g.parents(".iconpicker-popover").length===0){return false}return true},_bindElementEvents:function(){var a=this;this.getSearchInput().on("keyup.iconpicker",function(){a.filter(e(this).val().toLowerCase())});this.getAcceptButton().on("click.iconpicker",function(){var b=a.iconpicker.find(".iconpicker-selected").get(0);a.update(a.iconpickerValue);a._trigger("iconpickerSelected",{iconpickerItem:b,iconpickerValue:a.iconpickerValue});if(!a.isInline()){a.hide()}});this.getCancelButton().on("click.iconpicker",function(){if(!a.isInline()){a.hide()}});this.element.on("focus.iconpicker",function(b){a.show();b.stopPropagation()});if(this.hasComponent()){this.component.on("click.iconpicker",function(){a.toggle()})}if(this.hasInput()){this.input.on("keyup.iconpicker",function(b){if(!d.inArray(b.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])){a.update()}else{a._updateFormGroupStatus(a.getValid(this.value)!==false)}if(a.options.inputSearch===true){a.filter(e(this).val().toLowerCase())}})}},_bindWindowEvents:function(){var a=e(window.document);var h=this;var g=".iconpicker.inst"+this._id;e(window).on("resize.iconpicker"+g+" orientationchange.iconpicker"+g,function(b){if(h.popover.hasClass("in")){h.updatePlacement()}});if(!h.isInline()){a.on("mouseup"+g,function(b){if(!h._isEventInsideIconpicker(b)&&!h.isInline()){h.hide()}b.stopPropagation();b.preventDefault();return false})}return false},_unbindElementEvents:function(){this.popover.off(".iconpicker");this.element.off(".iconpicker");if(this.hasInput()){this.input.off(".iconpicker")}if(this.hasComponent()){this.component.off(".iconpicker")}if(this.hasContainer()){this.container.off(".iconpicker")}},_unbindWindowEvents:function(){e(window).off(".iconpicker.inst"+this._id);e(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(a,h){a=a||this.options.placement;this.options.placement=a;h=h||this.options.collision;h=h===true?"flip":h;var g={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:h===true?"flip":h,within:window};this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop");if(typeof a==="object"){return this.popover.pos(e.extend({},g,a))}switch(a){case"inline":g=false;break;case"topLeftCorner":g.my="right bottom";g.at="left top";break;case"topLeft":g.my="left bottom";g.at="left top";break;case"top":g.my="center bottom";g.at="center top";break;case"topRight":g.my="right bottom";g.at="right top";break;case"topRightCorner":g.my="left bottom";g.at="right top";break;case"rightTop":g.my="left bottom";g.at="right center";break;case"right":g.my="left center";g.at="right center";break;case"rightBottom":g.my="left top";g.at="right center";break;case"bottomRightCorner":g.my="left top";g.at="right bottom";break;case"bottomRight":g.my="right top";g.at="right bottom";break;case"bottom":g.my="center top";g.at="center bottom";break;case"bottomLeft":g.my="left top";g.at="left bottom";break;case"bottomLeftCorner":g.my="right top";g.at="left bottom";break;case"leftBottom":g.my="right top";g.at="left center";break;case"left":g.my="right center";g.at="left center";break;case"leftTop":g.my="right bottom";g.at="left center";break;default:return false;break}this.popover.css({display:this.options.placement==="inline"?"":"block"});if(g!==false){this.popover.pos(g).css("maxWidth",e(window).width()-this.container.offset().left-5)}else{this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"})}this.popover.addClass(this.options.placement);return true},_updateComponents:function(){this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass);if(this.iconpickerValue){this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass)}if(this.hasComponent()){var b=this.component.find("i");if(b.length>0){b.attr("class",this.options.fullClassFormatter(this.iconpickerValue))}else{this.component.html(this.getHtml())}}},_updateFormGroupStatus:function(b){if(this.hasInput()){if(b!==false){this.input.parents(".form-group:first").removeClass("has-error")}else{this.input.parents(".form-group:first").addClass("has-error")}return true}return false},getValid:function(b){if(!d.isString(b)){b=""}var a=b==="";b=e.trim(b);if(d.inArray(b,this.options.icons)||a){return b}return false},setValue:function(g){var c=this.getValid(g);if(c!==false){this.iconpickerValue=c;this._trigger("iconpickerSetValue",{iconpickerValue:c});return this.iconpickerValue}else{this._trigger("iconpickerInvalid",{iconpickerValue:g});return false}},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(b){b=this.setValue(b);if(b!==false&&b!==""){if(this.hasInput()){this.input.val(this.iconpickerValue)}else{this.element.data("iconpickerValue",this.iconpickerValue)}this._trigger("iconpickerSetSourceValue",{iconpickerValue:b})}return b},getSourceValue:function(g){g=g||this.options.defaultValue;var c=g;if(this.hasInput()){c=this.input.val()}else{c=this.element.data("iconpickerValue")}if(c===undefined||c===""||c===null||c===false){c=g}return c},hasInput:function(){return this.input!==false},isInputSearch:function(){return this.hasInput()&&this.options.inputSearch===true},isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return this.options.templates.search!==false&&!this.isInputSearch()},hasComponent:function(){return this.component!==false},hasContainer:function(){return this.container!==false},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(b){if(d.isEmpty(b)){this.iconpicker.find(".iconpicker-item").show();return e(false)}else{var a=[];this.iconpicker.find(".iconpicker-item").each(function(){var c=e(this);var j=c.attr("title").toLowerCase();var i=false;try{i=new RegExp(b,"g")}catch(h){i=false}if(i!==false&&j.match(i)){a.push(c);c.show()}else{c.hide()}});return a}},show:function(){if(this.popover.hasClass("in")){return false}e.iconpicker.batch(e(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide");this._trigger("iconpickerShow");this.updatePlacement();this.popover.addClass("in");setTimeout(e.proxy(function(){this.popover.css("display",this.isInline()?"":"block");this._trigger("iconpickerShown")},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in")){return false}this._trigger("iconpickerHide");this.popover.removeClass("in");setTimeout(e.proxy(function(){this.popover.css("display","none");this.getSearchInput().val("");this.filter("");this._trigger("iconpickerHidden")},this),this.options.animation?300:1)},toggle:function(){if(this.popover.is(":visible")){this.hide()}else{this.show(true)}},update:function(g,c){g=g?g:this.getSourceValue(this.iconpickerValue);this._trigger("iconpickerUpdate");if(c===true){g=this.setValue(g)}else{g=this.setSourceValue(g);this._updateFormGroupStatus(g!==false)}if(g!==false){this._updateComponents()}this._trigger("iconpickerUpdated");return g},destroy:function(){this._trigger("iconpickerDestroy");this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element");this._unbindElementEvents();this._unbindWindowEvents();e(this.popover).remove();this._trigger("iconpickerDestroyed")},disable:function(){if(this.hasInput()){this.input.prop("disabled",true);return true}return false},enable:function(){if(this.hasInput()){this.input.prop("disabled",false);return true}return false},isDisabled:function(){if(this.hasInput()){return this.input.prop("disabled")===true}return false},isInline:function(){return this.options.placement==="inline"||this.popover.hasClass("inline")}};e.iconpicker=f;e.fn.iconpicker=function(a){return this.each(function(){var b=e(this);if(!b.data("iconpicker")){b.data("iconpicker",new f(this,typeof a==="object"?a:{}))}})}});